<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TransLogix - Transport & Forwarding Management</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/auth.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/data-views.css">
    <link rel="stylesheet" href="css/components.css">
</head>
<body>
    <!-- Auth Views (Login/Register) -->
    <div id="auth-view" class="view active">
        <div class="auth-container">
            <div class="auth-sidebar">
                <div class="auth-logo">
                    <div class="logo-icon">T</div>
                    <div class="auth-logo-text">Trans<span>Logix</span></div>
                </div>
                <h1 class="auth-title">Transport & Forwarding Management</h1>
                <p class="auth-description">
                    Streamline your logistics operations with our comprehensive platform. 
                    Manage drivers, vehicles, tenders, and invoices all in one place.
                </p>
            </div>
            <div class="auth-content">
                <div class="auth-form-container">
                    <div class="auth-tabs">
                        <div class="auth-tab active" data-tab="login">Login</div>
                        <div class="auth-tab" data-tab="register">Register</div>
                    </div>
                    
                    <!-- Login Form -->
                    <div id="login-form" class="auth-form active">
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-control" placeholder="your@email.com" id="login-email">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Password</label>
                            <input type="password" class="form-control" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" id="login-password">
                        </div>
                        <div class="form-group">
                            <label class="form-label">GitHub Token</label>
                            <input type="password" class="form-control" placeholder="ghp_..." id="login-token">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Repository Name (owner/repo)</label>
                            <input type="text" class="form-control" placeholder="company/transport-data" id="login-repo">
                            <small class="form-text">Format: owner/repository-name</small>
                        </div>
                        <button class="btn btn-primary btn-auth" id="login-btn">Sign In</button>
                        <button class="btn btn-outline github-login">
                            <i class="fab fa-github"></i> Continue with GitHub
                        </button>
                    </div>
                    
                    <!-- Registration Form -->
                    <div id="register-form" class="auth-form" style="display: none;">
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-control" placeholder="your@email.com" id="register-email">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Password</label>
                            <input type="password" class="form-control" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" id="register-password">
                        </div>
                        <div class="form-group">
                            <label class="form-label">GitHub Token</label>
                            <input type="password" class="form-control" placeholder="ghp_..." id="register-token">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Repository Name</label>
                            <input type="text" class="form-control" placeholder="transport-data" id="register-repo">
                            <small class="form-text">This will be created in your GitHub account</small>
                        </div>
                        <button class="btn btn-primary btn-auth" id="register-btn">Create Account</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Application View -->
    <div id="app-view" class="view">
        <header>
            <div class="container">
                <div class="header-content">
                    <div class="logo">
                        <div class="logo-icon">T</div>
                        <div class="logo-text">Trans<span>Logix</span></div>
                    </div>
                    <div class="user-controls">
                        <div class="notification-bell" id="notification-bell">
                            <span class="bell-icon">üîî</span>
                            <span class="notification-badge">3</span>
                            <div class="notification-dropdown" id="notification-dropdown">
                                <div class="notification-header">
                                    Notifications <span style="color:var(--accent);">3 New</span>
                                </div>
                            </div>
                        </div>
                        <div class="user-profile" id="user-profile">
                            <div class="user-avatar">JD</div>
                            <div class="user-name">John Doe</div>
                            <div class="user-dropdown" id="user-dropdown">
                                <div class="user-dropdown-item" id="logout-btn">Log Out</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <div class="container">
            <div class="app-container">
                <!-- Sidebar Navigation -->
                <aside class="sidebar">
                    <div class="menu-title">Main Menu</div>
                    <ul class="nav-menu">
                        <li class="nav-item active" data-view="dashboard">
                            <span class="nav-icon">üìä</span>
                            <span>Dashboard</span>
                        </li>
                        <li class="nav-item" data-view="drivers">
                            <span class="nav-icon">üë®‚Äç‚úàÔ∏è</span>
                            <span>Drivers Management</span>
                        </li>
                        <li class="nav-item" data-view="cars">
                            <span class="nav-icon">üöõ</span>
                            <span>Cars Management</span>
                        </li>
                        <li class="nav-item" data-view="cards">
                            <span class="nav-icon">üí≥</span>
                            <span>Cards Management</span>
                        </li>
                        <li class="nav-item" data-view="tenders">
                            <span class="nav-icon">üì¶</span>
                            <span>Tenders Management</span>
                        </li>
                        <li class="nav-item" data-view="invoices">
                            <span class="nav-icon">üßæ</span>
                            <span>Invoices Management</span>
                        </li>
                        <li class="nav-item" data-view="reports">
                            <span class="nav-icon">üìà</span>
                            <span>Performance Reports</span>
                        </li>
                        <li class="nav-item" data-view="admin">
                            <span class="nav-icon">üõ°Ô∏è</span>
                            <span>Administration</span>
                        </li>
                        <li class="nav-item" data-view="chat">
                            <span class="nav-icon">üí¨</span>
                            <span>Chat System</span>
                        </li>
                    </ul>
                </aside>

                <!-- Main Content Area -->
                <main class="content-area">
                    <!-- Dashboard View -->
                    <div id="dashboard-view" class="view active">
                        <div class="page-title">
                            <h1 class="title-text">Dashboard Overview</h1>
                            <div class="action-buttons">
                                <button class="btn btn-outline">Export Report</button>
                                <button class="btn btn-primary">New Tender</button>
                            </div>
                        </div>

                        <div class="dashboard-grid">
                            <div class="dashboard-card">
                                <div class="card-title">Active Drivers</div>
                                <div class="card-value">24</div>
                                <div class="card-change positive">‚Üë 2 from last week</div>
                            </div>
                            <div class="dashboard-card">
                                <div class="card-title">On-Time Deliveries</div>
                                <div class="card-value">92%</div>
                                <div class="card-change positive">‚Üë 3% from last month</div>
                            </div>
                            <div class="dashboard-card">
                                <div class="card-title">Revenue (Monthly)</div>
                                <div class="card-value">$142,850</div>
                                <div class="card-change positive">‚Üë $12,450 from last month</div>
                            </div>
                            <div class="dashboard-card">
                                <div class="card-title">Pending Invoices</div>
                                <div class="card-value">8</div>
                                <div class="card-change negative">‚Üì 2 from last week</div>
                            </div>
                        </div>

                        <div class="data-table-container">
                            <div class="table-header">
                                <h2 class="table-title">Recent Tenders</h2>
                                <div class="table-filters">
                                    <select class="form-control">
                                        <option>All Statuses</option>
                                        <option>Pending</option>
                                        <option>Delivered</option>
                                        <option>Cancelled</option>
                                    </select>
                                </div>
                            </div>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Tender ID</th>
                                        <th>Route</th>
                                        <th>Loading Date</th>
                                        <th>Unloading Date</th>
                                        <th>Price</th>
                                        <th>Status</th>
                                        <th>Driver</th>
                                    </tr>
                                </thead>
                                <tbody id="dashboard-tenders">
                                    <!-- Tenders will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Drivers View -->
                    <div id="drivers-view" class="view">
                        <div class="page-title">
                            <h1 class="title-text">Drivers Management</h1>
                            <div class="action-buttons">
                                <button class="btn btn-outline">Import</button>
                                <button class="btn btn-primary" id="add-driver-btn">Add Driver</button>
                            </div>
                        </div>

                        <div class="data-table-container">
                            <div class="table-header">
                                <h2 class="table-title">Driver Database</h2>
                                <div class="table-filters">
                                    <select class="form-control" id="drivers-status-filter">
                                        <option value="all">All Statuses</option>
                                        <option value="available">Available</option>
                                        <option value="on-duty">On Duty</option>
                                        <option value="maintenance">Maintenance</option>
                                    </select>
                                </div>
                            </div>
                            <div id="drivers-list">
                                <!-- Drivers will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <!-- Cars View -->
                    <div id="cars-view" class="view">
                        <div class="page-title">
                            <h1 class="title-text">Cars Management</h1>
                            <div class="action-buttons">
                                <button class="btn btn-outline">Import</button>
                                <button class="btn btn-primary" id="add-car-btn">Add Car</button>
                            </div>
                        </div>

                        <div class="data-table-container">
                            <div class="table-header">
                                <h2 class="table-title">Vehicle Database</h2>
                                <div class="table-filters">
                                    <select class="form-control" id="cars-status-filter">
                                        <option value="all">All Statuses</option>
                                        <option value="available">Available</option>
                                        <option value="in-use">In Use</option>
                                        <option value="maintenance">Maintenance</option>
                                    </select>
                                </div>
                            </div>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Tractor Plate</th>
                                        <th>Trailer Plate</th>
                                        <th>Max Weight</th>
                                        <th>Loading Space</th>
                                        <th>Insurance</th>
                                        <th>Inspection</th>
                                        <th>Status</th>
                                        <th>Driver</th>
                                    </tr>
                                </thead>
                                <tbody id="cars-list">
                                    <!-- Cars will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Cards View -->
                    <div id="cards-view" class="view">
                        <div class="page-title">
                            <h1 class="title-text">Cards Management</h1>
                            <div class="action-buttons">
                                <button class="btn btn-outline">Import</button>
                                <button class="btn btn-primary" id="add-card-btn">Add Card</button>
                            </div>
                        </div>

                        <div class="data-table-container">
                            <div class="table-header">
                                <h2 class="table-title">Fuel Cards Database</h2>
                            </div>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Card Number</th>
                                        <th>PIN</th>
                                        <th>Expiry Date</th>
                                        <th>Assigned To</th>
                                        <th>Vehicle</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="cards-list">
                                    <!-- Cards will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="data-table-container" style="margin-top: 30px;">
                            <div class="table-header">
                                <h2 class="table-title">Drag & Drop Assignment</h2>
                            </div>
                            <div id="assignment-container" style="display: flex; gap: 20px; margin: 20px 0;">
                                <!-- Assignment area will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <!-- Tenders View -->
                    <div id="tenders-view" class="view">
                        <div class="page-title">
                            <h1 class="title-text">Tenders Management</h1>
                            <div class="action-buttons">
                                <button class="btn btn-outline">Import</button>
                                <button class="btn btn-primary" id="add-tender-btn">New Tender</button>
                            </div>
                        </div>

                        <div class="data-table-container">
                            <div class="table-header">
                                <h2 class="table-title">Tender Database</h2>
                                <div class="table-filters">
                                    <select class="form-control" id="tenders-status-filter">
                                        <option value="all">All Statuses</option>
                                        <option value="unassigned">Unassigned</option>
                                        <option value="pending">Pending</option>
                                        <option value="delivered">Delivered</option>
                                        <option value="cancelled">Cancelled</option>
                                        <option value="sold">Sold</option>
                                    </select>
                                </div>
                            </div>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Tender ID</th>
                                        <th>Route</th>
                                        <th>Loading Date</th>
                                        <th>Unloading Date</th>
                                        <th>Price</th>
                                        <th>Status</th>
                                        <th>Driver</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="tenders-list">
                                    <!-- Tenders will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Invoices View -->
                    <div id="invoices-view" class="view">
                        <div class="page-title">
                            <h1 class="title-text">Invoices Management</h1>
                            <div class="action-buttons">
                                <button class="btn btn-outline">Import</button>
                                <button class="btn btn-primary" id="add-invoice-btn">New Invoice</button>
                            </div>
                        </div>

                        <div class="data-table-container">
                            <div class="table-header">
                                <h2 class="table-title">Invoice Database</h2>
                                <div class="table-filters">
                                    <select class="form-control" id="invoices-status-filter">
                                        <option value="all">All Statuses</option>
                                        <option value="pending">Pending</option>
                                        <option value="paid">Paid</option>
                                        <option value="unpaid">Unpaid</option>
                                        <option value="overdue">Overdue</option>
                                    </select>
                                </div>
                            </div>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Invoice #</th>
                                        <th>Client</th>
                                        <th>Issue Date</th>
                                        <th>Due Date</th>
                                        <th>Amount</th>
                                        <th>Status</th>
                                        <th>Payment Terms</th>
                                    </tr>
                                </thead>
                                <tbody id="invoices-list">
                                    <!-- Invoices will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Reports View -->
                    <div id="reports-view" class="view">
                        <div class="page-title">
                            <h1 class="title-text">Performance Reports</h1>
                            <div class="action-buttons">
                                <select class="form-control" id="report-period" style="width: auto;">
                                    <option value="monthly">Monthly Report</option>
                                    <option value="weekly">Weekly Report</option>
                                    <option value="quarterly">Quarterly Report</option>
                                </select>
                                <button class="btn btn-primary" id="generate-report-btn">Generate Report</button>
                            </div>
                        </div>

                        <div class="dashboard-grid">
                            <div class="dashboard-card">
                                <div class="card-title">Total Revenue</div>
                                <div class="card-value" id="revenue-value">$142,850</div>
                                <div class="card-change" id="revenue-change">‚Üë 12.4% from last month</div>
                            </div>
                            <div class="dashboard-card">
                                <div class="card-title">Average Load Capacity</div>
                                <div class="card-value" id="load-capacity-value">86.7%</div>
                                <div class="card-change" id="load-capacity-change">‚Üë 3.2% from last month</div>
                            </div>
                            <div class="dashboard-card">
                                <div class="card-title">On-Time Delivery Rate</div>
                                <div class="card-value" id="delivery-rate-value">92%</div>
                                <div class="card-change" id="delivery-rate-change">‚Üë 3% from last month</div>
                            </div>
                            <div class="dashboard-card">
                                <div class="card-title">Driver Utilization</div>
                                <div class="card-value" id="utilization-value">78%</div>
                                <div class="card-change" id="utilization-change">‚Üì 2% from last month</div>
                            </div>
                        </div>

                        <div class="data-table-container">
                            <div class="table-header">
                                <h2 class="table-title">Driver Performance</h2>
                            </div>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Driver</th>
                                        <th>Tenders Completed</th>
                                        <th>On-Time Rate</th>
                                        <th>Avg. Revenue</th>
                                        <th>Capacity Utilization</th>
                                    </tr>
                                </thead>
                                <tbody id="drivers-performance">
                                    <!-- Performance data will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Admin View -->
                    <div id="admin-view" class="view">
                        <div class="page-title">
                            <h1 class="title-text">Administration</h1>
                            <div class="action-buttons">
                                <button class="btn btn-outline">Export Data</button>
                                <button class="btn btn-primary" id="add-user-btn">New User</button>
                            </div>
                        </div>

                        <div class="data-table-container">
                            <div class="table-header">
                                <h2 class="table-title">User Management</h2>
                            </div>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Email</th>
                                        <th>Role</th>
                                        <th>Supervisor</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="users-list">
                                    <!-- Users will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>

                        <div class="data-table-container" style="margin-top: 30px;">
                            <div class="table-header">
                                <h2 class="table-title">Status Management</h2>
                                <button class="btn btn-primary" id="add-status-btn" style="padding: 5px 15px; height: auto;">Add Status</button>
                            </div>
                            <table>
                                <thead>
                                    <tr>
                                        <th>Module</th>
                                        <th>Status Name</th>
                                        <th>Color</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="statuses-list">
                                    <!-- Statuses will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="data-table-container" style="margin-top: 30px;">
                            <div class="table-header">
                                <h2 class="table-title">Repository Management</h2>
                            </div>
                            <div class="form-container">
                                <div class="form-group">
                                    <label class="form-label">Current Repository</label>
                                    <input type="text" class="form-control" id="current-repo" readonly>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">New GitHub Token</label>
                                    <input type="password" class="form-control" id="new-token" placeholder="ghp_...">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">New Repository Name (owner/repo)</label>
                                    <input type="text" class="form-control" id="new-repo" placeholder="company/transport-data">
                                </div>
                                <button class="btn btn-primary" id="migrate-repo-btn">Migrate Repository</button>
                            </div>
                        </div>
                    </div>

                    <!-- Chat View -->
                    <div id="chat-view" class="view">
                        <div class="page-title">
                            <h1 class="title-text">Internal Communication</h1>
                        </div>

                        <div class="chat-container">
                            <div class="chat-sidebar">
                                <div class="table-header">
                                    <h2 class="table-title">Team Members</h2>
                                </div>
                                <div class="chat-users" id="chat-users-list">
                                    <!-- Users will be populated by JavaScript -->
                                </div>
                            </div>
                            <div class="chat-main">
                                <div class="chat-header">
                                    <div class="user-info">
                                        <div class="user-status"></div>
                                        <div class="user-details">
                                            <div class="user-name" id="chat-current-user">John Doe</div>
                                            <div class="user-role" id="chat-current-role">Administrator</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="chat-messages" id="chat-messages">
                                    <!-- Messages will be populated by JavaScript -->
                                </div>
                                <div class="chat-input">
                                    <input type="text" id="chat-input" placeholder="Type your message...">
                                    <button id="chat-send-btn">
                                        <i class="fas fa-paper-plane"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>
    </div>

    <!-- JavaScript Files -->
    <script src="js/app.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/drivers.js"></script>
    <script src="js/cars.js"></script>
    <script src="js/cards.js"></script>
    <script src="js/tenders.js"></script>
    <script src="js/invoices.js"></script>
    <script src="js/reports.js"></script>
    <script src="js/admin.js"></script>
    <script src="js/chat.js"></script>
    <script src="js/notifications.js"></script>
    
    <!-- DEBUG SCRIPT - REMOVE IN PRODUCTION -->
    <script>
        // DEBUG: Check if HTML is actually loading
        console.log('DEBUG: HTML structure loaded');
        console.log('DEBUG: Checking if app-view exists:', document.getElementById('app-view') ? 'YES' : 'NO');
        console.log('DEBUG: Checking if dashboard-view exists:', document.getElementById('dashboard-view') ? 'YES' : 'NO');
        
        // DEBUG: Force show the dashboard view
        setTimeout(() => {
            console.log('DEBUG: Forcing dashboard view to be visible');
            const dashboardView = document.getElementById('dashboard-view');
            if (dashboardView) {
                dashboardView.style.display = 'block';
                dashboardView.style.visibility = 'visible';
                dashboardView.style.opacity = '1';
                dashboardView.style.height = 'auto';
            }
        }, 1000);
    </script>
</body>
</html>
